function updateHTML(){const t=document.querySelectorAll("[data-restsheet-url]");for(let e,n=0;e=t[n];n++){const t=e.dataset.restsheetUrl,n=e.dataset.restsheetSearch,s=e.dataset.restsheetLimit,r=e.dataset.restsheetOffset;e.style.display="none",fetchData({URL:t,search:n,limit:s,offset:r}).then(t=>{const n=[];for(let s=0;s<t.length;s++)n.push(e.innerHTML);const s=n.map((e,n)=>interpolateString(e,t[n]));e.innerHTML=s.join(""),e.style.display="initial"}).catch(t=>console.log(t))}}function fetchData({URL:t,search:e,limit:n,offset:s}){t=t.endsWith("/")?t:t+"/";let r=[];n&&r.push(`limit=${n}`),s&&r.push(`offset=${s}`);const a=`${t}${e?"search":""}?${r.join("&")}`;return new Promise((t,e)=>{fetch(a).then(t=>t.json()).then(e=>t(e)).catch(t=>e(t))})}function interpolateString(t,e){return t.replace(/{{([^{}]*)}}/g,(t,n)=>{const s=e[n];return"string"==typeof s||"number"==typeof s?s:t})}document.addEventListener("DOMContentLoaded",updateHTML);